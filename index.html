<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T.C.C - Proyecto</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Logo tipo marca de agua -->
  <div class="watermark">T.C.C</div>

  <!-- Pantalla Bienvenida -->
  <div class="view active" id="welcomeView">
    <h1>Bienvenido</h1>
    <button onclick="showView('loginView')">Iniciar Sesión</button>
  </div>

  <!-- Pantalla Login -->
  <div class="view" id="loginView">
    <div class="card">
      <h2>Iniciar Sesión</h2>
      <input type="email" id="loginEmail" placeholder="Correo">
      <input type="password" id="loginPass" placeholder="Contraseña">
      <button id="btnLogin">Entrar</button>
      <p>¿No tienes cuenta? <a href="#" onclick="showView('registerView')">Registrarse</a></p>
      <button class="back" onclick="showView('welcomeView')">Volver</button>
    </div>
  </div>

  <!-- Pantalla Registro -->
  <div class="view" id="registerView">
    <div class="card">
      <h2>Crear Cuenta</h2>
      <input type="email" id="regEmail" placeholder="Correo">
      <input type="password" id="regPass" placeholder="Contraseña">
      <button id="btnRegistrar">Registrarse</button>
      <button class="back" onclick="showView('loginView')">Volver</button>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
      from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

    // Configuración Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCPLKNwLByE30WAXcvyp-DtoiZY7W6A",
      authDomain: "ctcordova-c71e2.firebaseapp.com",
      projectId: "ctcordova-c71e2",
      storageBucket: "ctcordova-c71e2.appspot.com",
      messagingSenderId: "1099351775675",
      appId: "1:1099351775675:web:7e0cd6cf2d571a9df4c9e9",
      measurementId: "G-VRC1GJ7S9T"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Cambiar vistas
    window.showView = function(viewId) {
      document.querySelectorAll(".view").forEach(v => v.classList.remove("active"));
      document.getElementById(viewId).classList.add("active");
    };

    // Login
    document.getElementById("btnLogin").addEventListener("click", () => {
      const email = document.getElementById("loginEmail").value;
      const pass = document.getElementById("loginPass").value;

      signInWithEmailAndPassword(auth, email, pass)
        .then(user => alert("✅ Bienvenido " + user.user.email))
        .catch(err => alert("⚠ " + err.message));
    });

    // Registro
    document.getElementById("btnRegistrar").addEventListener("click", () => {
      const email = document.getElementById("regEmail").value;
      const pass = document.getElementById("regPass").value;

      createUserWithEmailAndPassword(auth, email, pass)
        .then(user => alert("✅ Usuario creado: " + user.user.email))
        .catch(err => alert("⚠ " + err.message));
    });
  </script>
</body>
</html>